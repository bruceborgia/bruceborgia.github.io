---
layout: post
title: 目标检测样本不均衡问题
data: 2023-05-15 11:11:33

idiom: '心里的火永远不要灭，哪怕别人只能看到烟。'
color: 'var(--base0E)'
tags: 目标检测
---


##### 1.以多种数据组合形式训练模型并做模型融合
	就是将全部的小样本数据和等量的大样本数据分别组合成几批训练数据集，如在安全帽检测时，未戴安全帽的数据过少，因此将全部的未戴安全帽的数据和等量的戴安全帽的数据分别组合成几个批次训练数据，并以此训练出几个不同的模型并做模型融合，这种方法能够有效的解决样本不均衡问题。
		目标检测中的模型融合： 
			1.单个模型的不同epoch进行融合：
				这里主要是在nms之前，对于不同模型预测出来的结果，根据score来排序再做nms操作。
			2.多个模型融合：
				不同方法的融合，如faster rcnn 和 yolo ， 有两种情况:1. 去并集，防止漏检 2.取并集，防止误检测
	
			评价：目标检测中的模型融合 工业落地没什么用，模型融合之后，效率太低了，刷榜用可以
2.在计算损失函数时改变数据的权重，增加小样本数据的权重，减少大样本的权重。这种方法实际上参考了focal loss的思想，只不过解决的不是难易样本不均衡，而是样本数据量不均衡，同样能保证模型的泛化性能。

Focal Loss 



3.过采样小样本，欠采样大样本。也就是对于训练数据，把那些样本量较小的数据多在load数据时重复几遍，对于那些样本量较大的数据，则尽量减少load它们，以此来达到样本均衡的目的。
